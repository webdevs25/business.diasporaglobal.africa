{% extends 'main/base.html' %} {% load static humanize %} {% block content %}

<!-- breadcrumb-area -->
<section
	class="breadcrumb-area breadcrumb-bg"
	data-background="{{ donation.image_one.url }}"
>
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-10">
				<div class="breadcrumb-content text-center">
					<h2 class="title">Charity Causes Details</h2>
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb">
							<li class="breadcrumb-item">
								<a href="{% url 'main:index' %}">Home</a>
							</li>
							<li class="breadcrumb-item active" aria-current="page">
								Cause Details
							</li>
						</ol>
					</nav>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- breadcrumb-area-end -->

<!-- blog-details-area -->
<section class="blog-details-area gray-bg pt-130 pb-100">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-8">
				<div class="blog--post--item">
					<div class="blog--post--content blog-details-content">
						<div class="blog--tag">
							<a href="#">{{ donation.project_type }}</a>
						</div>
						<h2>{{ donation.title }}</h2>
						<div class="blog--post--meta mb-20">
							<ul>
								<li>
									<i class="far fa-user"></i><span>by </span
									><a href="#">{{ donation.app_user.user.get_full_name }}</a>
								</li>
								<li>
									<span
										><i class="far fa-calendar-alt"></i>{{ donation.pub_date }}</span
									>
								</li>
								<li>
									<a href="#"
										><i class="far fa-heart"></i>{{ donation.contributions.count}} Donations</a
									>
								</li>
							</ul>
						</div>

						<div
							class="cause-amounts text-center mb-40 p-4"
							style="background: #f8f9fa; border-radius: 10px"
						>
							<h2 class="title mb-3">
								${{ donation.amount_donated|floatformat:0|intcomma }}
								<span
									>raised of ${{ donation.goal|floatformat:0|intcomma }}
									goal</span
								>
							</h2>
							<div class="progress mb-3" style="height: 10px">
								<div
									class="progress-bar"
									role="progressbar"
									style="width: {{ donation.percentage_raised|floatformat:0 }}%; background: #1A4137;"
									aria-valuenow="{{ donation.percentage_raised|floatformat:0 }}"
									aria-valuemin="0"
									aria-valuemax="100"
								></div>
							</div>
							<p class="mb-0">
								Raised by {{ donation.contributions.count }} generous people
							</p>
						</div>

						<p>{{ donation.description }}</p>

						<div class="blog-details-post-thumb mb-40">
							<img
								src="{{ donation.image_one.url }}"
								alt="{{ donation.title }}"
								style="width: 100%; height: 400px; object-fit: cover"
							/>
						</div>

						<div class="blog-details-wrap">
							<h3>About This Cause</h3>
							<p>{{ donation.about }}</p>
						</div>

						<div class="blog-details-wrap">
							<h3>Project Summary</h3>
							<p>{{ donation.summary }}</p>
						</div>

						<div class="blog-details-wrap">
							<h3>The Challenge</h3>
							<p>{{ donation.challenge }}</p>
						</div>

						<div class="blog-details-wrap border-none">
							<h3>Our Targets & Goals</h3>
							<div class="b-details-list">
								<ul>
									{% if donation.target_one %}
									<li><i class="fas fa-check"></i>{{ donation.target_one }}</li>
									{% endif %} {% if donation.target_two %}
									<li><i class="fas fa-check"></i>{{ donation.target_two }}</li>
									{% endif %} {% if donation.target_three %}
									<li>
										<i class="fas fa-check"></i>{{ donation.target_three }}
									</li>
									{% endif %} {% if donation.target_four %}
									<li>
										<i class="fas fa-check"></i>{{ donation.target_four }}
									</li>
									{% endif %} {% if donation.target_five %}
									<li>
										<i class="fas fa-check"></i>{{ donation.target_five }}
									</li>
									{% endif %} {% if donation.target_six %}
									<li><i class="fas fa-check"></i>{{ donation.target_six }}</li>
									{% endif %}
								</ul>
							</div>
						</div>

						{% if donation.more_info %}
						<blockquote>
							<span
								>by
								<a href="#">{{ donation.app_user.user.get_full_name }}</a></span
							>
							{{ donation.more_info|truncatewords:30 }}
						</blockquote>
						{% endif %}

						<div class="blog-details-post-thumb mb-40">
							<img
								src="{{ donation.image_three.url }}"
								alt="{{ donation.title }}"
								style="width: 100%; height: 400px; object-fit: cover"
							/>
						</div>

						<p>{{ donation.summary }}</p>

						<div class="blog-details-post-thumb mb-40">
							<img
								src="{{ donation.image_four.url }}"
								alt="{{ donation.title }}"
								style="width: 100%; height: 400px; object-fit: cover"
							/>
						</div>

						<p>{{ donation.more_info }}</p>

						<!-- Donation Section -->
						

						

						<!-- Related Causes -->
						<div class="related-post mt-45">
							<h3>Related Projects</h3>
							<div class="row">
								{% if related_donations %}
									{% for item in related_donations %}
										<div class="col-md-6">
											<div class="single-rp mb-45">
												<div class="rp-thumb">
													<a href="{% url 'main:business_details' item.id %}">
														<img src="{{ item.image_one.url }}" alt="{{ item.title }}" style="width: 100%; height: 200px; object-fit: cover" />
													</a>
												</div>
												<div class="rp-content">
													<span class="rp-date"><i class="far fa-calendar-alt"></i>{{ item.pub_date|date:"jS M Y" }}</span>
													<h4><a href="{% url 'main:business_details' item.id %}">{{ item.title }}</a></h4>
													<p>{{ item.summary|default:item.description|truncatewords:20 }}</p>
												</div>
											</div>
										</div>
									{% endfor %}
								{% else %}
									<div class="col-12"><p>No related projects found.</p></div>
								{% endif %}
							</div>
						</div>

						<!-- Donor Comments Section -->
						
					</div>
				</div>
			</div>
			<div class="col-lg-4 col-md-7">
				<aside class="blog-sidebar pl-20">
					<!-- Donation Progress Widget -->
					<div class="widget mb-40">
						<div class="sidebar-title mb-25">
							<h3>Funding Progress</h3>
						</div>
						<div class="blog-about text-center">
							<div class="cause-amounts">
								<h2 class="title mb-3" style="font-size: 2rem">
									${{ donation.amount_donated|floatformat:0|intcomma }}
								</h2>
								<div class="progress mb-3" style="height: 15px">
									<div
										class="progress-bar"
										role="progressbar"
										style="width: {{ donation.percentage_raised|floatformat:0 }}%; background: #1A4137;"
										aria-valuenow="{{ donation.percentage_raised|floatformat:0 }}"
										aria-valuemin="0"
										aria-valuemax="100"
									></div>
								</div>
								<p class="mb-2">
									<strong
										>{{ donation.percentage_raised|floatformat:0 }}%
										Funded</strong
									>
								</p>
								<p class="mb-2">
									Goal: ${{ donation.goal|floatformat:0|intcomma }}
								</p>
								<p class="mb-3">
									Supporters: {{ donation.contributions.count }}
								</p>
								<a
									href="{% url 'main:invest_now' donation.id %}"
									class="btn"
									style="background: #1a4137; color: white; width: 100%"
								>
									<i class="far fa-heart"></i> Support This Cause
								</a>
							</div>
						</div>
					</div>

					<!-- Organizer Info -->
					<div class="widget mb-40">
						<div class="sidebar-title mb-25">
							<h3>About the Organizer</h3>
						</div>
						<div class="blog-about text-center">
							<div class="blog-avatar-img mb-25">
								<img
									src="{% static 'assets/img/images/organizer.jpg' %}"
									alt="img"
									style="
										width: 100px;
										height: 100px;
										object-fit: cover;
										border-radius: 50%;
									"
								/>
							</div>
							<div class="b-about-content mb-20">
								<h4>{{ donation.app_user.user.get_full_name }}</h4>

								<ul style="text-align: left; margin: 0 auto; display: inline-block; line-height: 1.9;">
									<li><i class="fas fa-phone"></i> {{ donation.app_user.phone_no }}</li>
									<li><i class="fas fa-map-marker-alt"></i> {{ donation.location }}</li>
									<li>
										<i class="fas fa-globe"></i>
										<a style="font-size: 12px;" href="{{ donation.website }}" target="_blank" rel="noopener">{{ donation.website }}</a>
									</li>
									<li><i class="fas fa-tags"></i> {{ donation.project_type }}</li>
								</ul>
							</div>
							<div class="b-about-social">
								<a href="#"><i class="fab fa-facebook-f"></i></a>
								<a href="#"><i class="fab fa-twitter"></i></a>
								<a href="#"><i class="fab fa-linkedin-in"></i></a>
								<a href="#"><i class="fab fa-instagram"></i></a>
							</div>
						</div>
					</div>

					

					

					

					
				</aside>
			</div>
		</div>
	</div>
</section>
<!-- blog-details-area-end -->

<style>
	.donation-amount {
		background: #1a4137;
		color: white;
		padding: 4px 12px;
		border-radius: 20px;
		font-size: 12px;
		font-weight: bold;
		margin-left: 10px;
	}

	.backers-list ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.backers-list li {
		display: flex;
		align-items: center;
		padding: 15px 0;
		border-bottom: 1px solid #eee;
	}

	.backers-list li:last-child {
		border-bottom: none;
	}

	.backers-list .thumb {
		width: 50px;
		height: 50px;
		border-radius: 50%;
		overflow: hidden;
		margin-right: 15px;
	}

	.backers-list .thumb img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}

	.backers-list .content {
		flex: 1;
	}

	.backers-list .title {
		font-size: 14px;
		margin-bottom: 5px;
	}

	.backers-list span {
		color: #1a4137;
		font-weight: bold;
		font-size: 14px;
	}

	.give-donation-wrap ul {
		list-style: none;
		padding: 0;
		margin: 0;
		display: flex;
		gap: 10px;
		justify-content: center;
	}

	.give-donation-wrap li {
		margin: 0;
	}

	.give-donation-wrap a {
		display: inline-block;
		padding: 10px 20px;
		background: #fff;
		border: 2px solid #1a4137;
		color: #1a4137;
		text-decoration: none;
		border-radius: 5px;
		transition: all 0.3s ease;
	}

	.give-donation-wrap a:hover,
	.give-donation-wrap li.active a {
		background: #1a4137;
		color: white;
	}
</style>

{% endblock %}
